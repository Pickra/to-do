function fetchAndOrDisplay(){0===notesArray.length?notesArray.fetch({success:function(a){a.each(function(a){putInSideBar(a)})}}):($(".notes").html(""),notesArray.each(function(a){putInSideBar(a)}))}function saveButton(){$(".saved-tasks").click(function(){var a=new noteConstructor;a.set("title",$("#title").val()),a.set("content",$("#content").val()),$(".under-main").addClass("hidden"),a.save(null,{success:function(){notesArray.add(a),fetchAndOrDisplay()},error:function(a,b){alert("No dice hombre"+b.descripton)}})})}function putInSideBar(a){var b=$("<li>"+a.get("title")+"</li>");$(".notes").append(b),b.click(function(){putInDisplay(a)})}function putInDisplay(a){$(".output-wrap").html(""),edit=$('<div class="edit btn-default new'+a.id+'">Edit</div>'),kill=$('<div class="kill btn-default new'+a.id+'">Delete</div>'),h1=$("<h1>"+a.get("title")+"</h1>"),p=$("<p>"+a.get("content")+"</p>"),$(".output-wrap").append(h1,p,edit,kill),$(edit).click(function(){theEditor(a)}),$(kill).click(function(){theDelete(a)})}function theDelete(a){a.destroy({success:function(){fetchAndOrDisplay(),$(".output-wrap").html(""),$(".under-main").addClass("hidden")},error:function(){}})}function theEditor(a){var b=$("<div class='btn-default editSave' style='display: inline-block;'>Save</div>");$(".under-main").removeClass("hidden"),$("#title").val(a.get("title")),$("#content").val(a.get("content")),$(".saved-tasks").addClass("hidden"),0===$(".editSave").length&&$(".under-main").append(b),$(".editSave").click(function(){a.set("title",$("#title").val()),a.set("content",$("#content").val()),$(".under-main").addClass("hidden"),$(".editSave").remove(),$(".output-wrap").html(""),a.save(null,{success:function(a){getValue(a),fetchAndOrDisplay()},error:function(a,b){alert("No dice hombre"+b.descripton)}})})}function getValue(a){$("#title").val(a.get("title")),$("#content").val(a.get("content"))}function makeNote(){$(".new").click(function(){$(".under-main").removeClass("hidden"),$(".saved-tasks").removeClass("hidden"),$(".form-control").val("")})}function cancelButton(){$(".cancel").click(function(){$(".under-main").addClass("hidden")})}Parse.initialize("mnBJxPoO5anLT4b5gtR4oA3dKs0fUdSnCw1TYr6o","e00VUWvFjONPw4egMhgglRZgpQspAmR8QW7feaZH");var noteConstructor=Parse.Object.extend("ToDo"),objectArray=Parse.Collection.extend({model:noteConstructor}),notesArray=new objectArray,edit,kill,h1,p;$(document).ready(function(){makeNote(),fetchAndOrDisplay(),saveButton(),cancelButton()});